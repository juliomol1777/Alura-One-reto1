<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Encriptador</title>
</head>

<body>
    <div class="container">
        <div class="container-left">
            <div class="container-logo">
                <div class="logo">
                    <img src="./Vector.png" alt="">
                </div>
            </div>
            <div class="frame1">
                <div class="frame1-text">
                    <textarea cols="35" rows="12" id="input"></textarea>
                    <!--<input type="text" id="input"/>-->
                </div>
            </div>
            <div class="frame3">
                <div class="frame3-logo">
                    <div class="frame3-group">
                        <img src="./Vector (1).png" alt="">
                    </div>
                    <p>Ingrese texto en minuscula sin caracteres</p>
                </div>
                <div class="frame3-container">
                    <button class="frame3-boton --primario" type="button" id="boton1">Encriptar</button>
                
                    <button class="frame3-boton especial" type="button" id="boton2">Desencriptar</button>
                </div>
            </div>
        </div>
        <div class="container-right">
            <div class="frame5">
                <div class="figura">
                    <img src="./MuÃ±eco.png" alt="">
                </div>
                <div class="frame5-text">
                    <p>No se ha encontrado ningun elemento</p>
                </div>
                <div class="frame5-input">
                    <textarea cols="35" rows="12" id="txtArea"></textarea>
                </div>
            </div>
            <div class="frame5-container">
                <button class="frame3-boton --primario" type="button" id="boton-copiar">Copiar</button>
            </div>
        </div>
        <script>
            var texto = document.getElementById("input");
            //var texto = document.querySelector("input");
                /*
                texto.onchange = function () {
                    console.log(texto.value.length);
                }
                */
                var nuevoTexto = "";
                var contador = 0;
                var textoDecript="";

                /*Funcion para encriptar texto*/
                document.getElementById('boton1').onclick = function () {

                    for (let index = 0; index < texto.value.length; index++) {
                        let letra = texto.value[index];
                        if (letra == "a" || letra == "e" || letra == "i" ||
                            letra == "o" ||letra == "u") {
                            switch (letra) {
                                case "a":
                                    nuevoTexto += texto.value[index].replace(letra, "ai");
                                    contador++;
                                    break;
                                case "e":
                                    nuevoTexto += texto.value[index].replace(letra, "enter");
                                    contador++;
                                    break;
                                case "i":
                                    nuevoTexto += texto.value[index].replace(letra, "imes");
                                    contador++;
                                    break;
                                case "o":
                                    nuevoTexto += texto.value[index].replace(letra, "ober");
                                    contador++;
                                    break;
                                case "u":
                                    nuevoTexto += texto.value[index].replace(letra, "ufat");
                                    contador++;
                                    break;
                                default:
                                    break;
                            }
                        }
                        else {
                            nuevoTexto += texto.value[index];
                        }

                    }
                    document.getElementById('txtArea').value = nuevoTexto;
                }

                /*Funcion para copiar texto al portapapeles*/
                document.getElementById('boton-copiar').onclick = function updateClipboard(nuevoTexto) {
                        navigator.clipboard.writeText(nuevoTexto).then(() => {
                            console.log("copia exitosa");
                        }, () => {
                            console.log("fallo copia");
                        });
                }

                /*Funcion para desencriptar texto*/
                document.getElementById('boton2').onclick = function () {
                    for (let index = 0; index < contador; index++) {
                        //console.log(textoDecript);
                        if(nuevoTexto.includes("ai")){
                            textoDecript = nuevoTexto.replace("ai", "a");
                        }
                        if(nuevoTexto.includes("enter")){
                            textoDecript = nuevoTexto.replace("enter", "e");
                        }
                        if(nuevoTexto.includes("imes")){
                            textoDecript = nuevoTexto.replace("imes", "i");
                        }
                        if(nuevoTexto.includes("ober")){
                            textoDecript = nuevoTexto.replace("ober", "o");
                        }
                        if(nuevoTexto.includes("ufat")){
                            textoDecript = nuevoTexto.replace("ufat", "u");
                        }
                        nuevoTexto = textoDecript;
                    }
                    document.getElementById('txtArea').value = textoDecript;
                }

        </script>

</body>

</html>